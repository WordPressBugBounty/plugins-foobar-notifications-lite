"use strict";!function(t,e){e.ready(function(t){t(".foobar-shortcode").on("click",function(){try{this.select(),document.execCommand("copy"),t(this).siblings(".foobar-shortcode-message").show()}catch(t){console.log("Oops, unable to copy!")}})})}(FooBar,FooBar.utils,FooBar.utils.is),function(t,e,o,n,i){e.IconPicker=e.Field.extend({construct:function(e,n,s,r,a){const l=this;l._super(e,n,s,r,a),l.$doc=t(document),l.initial=l.$value.val(),l.hasDefault=!i.empty(l.opt.default),l.$container=t("<div/>",{class:l.cls.container}),l.containerElement=l.$container.get(0),l.$button=t("<button/>",{class:"button "+l.cls.button,type:"button"}),l.$clear=t("<button/>",{class:"button button-small "+l.cls.clear,type:"button",text:l.hasDefault?l.i18n.default:l.i18n.clear}),l.$icon=t("<span/>",{class:l.cls.icon}),l.$text=t("<span/>",{class:l.cls.text,text:l.i18n.select}),l.$list=t("<div/>",{class:l.cls.list}),l.$selected=t(),l.icons=o.icons.all()},setup:function(){const t=this;i.empty(t.icons)||(t.$container.append(t.$button.append(t.$icon,t.$text),t.$clear,t.$list.append(t.createItems())),t.$button.on("click",{self:t},t.onButtonClick),t.$clear.on("click",{self:t},t.onClearClick),t.$list.on("click",t.sel.item,{self:t},t.onItemClick),t.$value.addClass(t.cls.hidden).after(t.$container),t.val(t.$value.val()))},createItems:function(){const e=this;return Object.keys(e.icons).map(function(o){return t("<button/>",{class:e.cls.item,title:o,type:"button"}).append(e.icons[o].cloneNode(!0))})},teardown:function(){const t=this;t.$value.removeClass(t.cls.hidden),t.$container.remove(),t.$doc.off("click."+t.id,t.onDocumentClick),t.$button.off("click",{self:t},t.onButtonClick),t.$clear.off("click",{self:t},t.onClearClick),t.$list.off("click",t.sel.item,{self:t},t.onItemClick)},val:function(e){const o=this;if(i.undef(e))return o.$value.val();const n=o.$value.val();let s="";i.string(e)&&o.icons.hasOwnProperty(e)?(s=e,o.$selected=o.$list.find('[title="'+s+'"]'),o.$value.val(s),o.$icon.empty().append(o.icons[s].cloneNode(!0))):(o.$selected=t(),o.$value.val(s),o.$icon.empty()),o.$list.find(o.sel.selected).removeClass(o.cls.selected),o.$selected.addClass(o.cls.selected),n!==s&&o.doValueChanged()},toggleDropdown:function(t){const e=this;if(e.dropdownVisible=i.boolean(t)?t:!e.dropdownVisible,e.dropdownVisible){e.$container.addClass(e.cls.visible);const t=e.$list.get(0);if(0!==e.$selected.length){const o=e.$selected.get(0);t.scrollTo(0,o.offsetTop)}else t.scrollTo(0,0);e.$doc.on("click."+e.id,{self:e},e.onDocumentClick)}else e.$doc.off("click."+e.id,e.onDocumentClick),e.$container.removeClass(e.cls.visible)},onDocumentClick:function(e){const o=e.data.self;t.contains(o.containerElement,e.target)||o.toggleDropdown(!1)},onButtonClick:function(t){t.preventDefault();t.data.self.toggleDropdown()},onClearClick:function(t){t.preventDefault();const e=t.data.self;e.val(e.hasDefault?e.opt.default:"")},onItemClick:function(t){t.data.self.val(this.title)}}),e.fields.register("icon-picker",e.IconPicker,".foofields-type-icon-picker",{default:null},{container:"fip-container",button:"fip-button",clear:"fip-clear",icon:"fip-icon",text:"fip-text",list:"fip-list",item:"fip-item",hidden:"fip-hidden",visible:"fip-visible",selected:"fip-selected",sr:"fip-sr"},{select:"Select Icon",clear:"Clear",default:"Default"})}(FooFields.$,FooFields,FooBar,FooFields.utils,FooFields.utils.is),function(t,e){e.Numeric=e.Field.extend({setup:function(){var t=this;t.currentValue=t.val(),t.debouncedId=null,t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){clearTimeout(this.debouncedId),this.$change.off(".foofields")},onInputChange:function(t){const e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),e.fields.register("numeric",e.Numeric,".foofields-type-numeric",{},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(t,e,o){e.Unit=e.Field.extend({setup:function(){var t=this;t.$value=t.$input.find('input[type="number"]'),t.$unit=t.$input.find('select.foofields-unit-select, input[type="hidden"][id$="_unit"]').first(),t.currentValue=t.val(),t.$unit.is("select")&&(t.applyUnitConstraints(),t.$unit.off(".foofields-unit").on("change.foofields-unit",{self:t},t.onUnitChange)),t.$change.off("change",t.onValueChanged).on("input.foofields change.foofields",{self:t},t.onInputChange)},teardown:function(){var t=this;t.$change.off(".foofields"),t.$unit&&t.$unit.length&&t.$unit.off(".foofields-unit")},val:function(t){var e=this,n=e.$unit,i=e.$value.val(),s=n.length?n.val():"";if(!o.undef(t)){var r=e.parseValue(t);return e.$value.val(r.value),n.length&&(n.val(r.unit),n.is("select")&&e.applyUnitConstraints()),void e.doValueChanged()}return o.empty(i)?"":""+i+(s||"")},parseValue:function(t){var e,n={value:"",unit:this.$unit.length?this.$unit.val():""};return(o.string(t)||o.number(t))&&(e=String(t).trim().match(/^\s*([+-]?(?:\d+(?:\.\d+)?|\.\d+))\s*([a-z%]*)\s*$/i))?(n.value=e[1],o.empty(e[2])||(n.unit=e[2].toLowerCase()),n):n},onUnitChange:function(t){var e,o=t.data.self;o.applyUnitConstraints(),(e=o.val())!==o.currentValue&&(o.currentValue=e,o.doValueChanged())},onInputChange:function(t){var e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())},applyUnitConstraints:function(){var t,e,n,i,s,r,a=this,l=a.$unit.find("option:selected");l.length&&a.$value.length&&(t=l.attr("data-min"),e=l.attr("data-max"),n=l.attr("data-step"),a.$value.attr("min",t),a.$value.attr("max",e),a.$value.attr("step",n),i=a.$value.val(),o.empty(i)||(s=parseFloat(i),Number.isNaN(s)||(r=s,o.empty(t)||(t=parseFloat(t),!Number.isNaN(t)&&r<t&&(r=t)),o.empty(e)||(e=parseFloat(e),!Number.isNaN(e)&&r>e&&(r=e)),r!==s&&a.$value.val(String(r)))))}}),e.fields.register("unit",e.Unit,".foofields-type-unit",{},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(t,e,o){e.DateTime=e.Field.extend({setup:function(){var t=this;t.$date=t.$input.find('input[type="date"]'),t.$hours=t.$input.find(".foofields-time-hours").find('input[type="number"]'),t.$minutes=t.$input.find(".foofields-time-minutes").find('input[type="number"]'),t.currentValue=t.val(),t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){this.$change.off(".foofields")},val:function(t){const e=this,n=e.$date.val(),i=e.$hours.val(),s=e.$minutes.val(),r=new Date(n);r.setHours(i,s);const a=r.getTime();if(!o.number(t)||t===a)return r.getTime();{const o=new Date(t);e.$date.val(o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()),e.$hours.val(o.getHours()),e.$minutes.val(o.getMinutes()),e.doValueChanged()}},onInputChange:function(t){const e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),e.fields.register("datetime",e.DateTime,".foofields-type-datetime",{},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(t,e,o){e.TimeSelector=e.Field.extend({setup:function(){var t=this;t.SECOND_IN_MS=1e3,t.MINUTE_IN_MS=60*t.SECOND_IN_MS,t.HOUR_IN_MS=60*t.MINUTE_IN_MS,t.DAY_IN_MS=24*t.HOUR_IN_MS,t.$days=t.$input.find(".foofields-time-days").find('input[type="number"]'),t.$hours=t.$input.find(".foofields-time-hours").find('input[type="number"]'),t.$minutes=t.$input.find(".foofields-time-minutes").find('input[type="number"]'),t.$seconds=t.$input.find(".foofields-time-seconds").find('input[type="number"]'),t.currentValue=t.val(),t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){this.$change.off(".foofields")},val:function(t){const e=this,n=e.$days.val(),i=e.$hours.val(),s=e.$minutes.val(),r=e.$seconds.val(),a=n*e.DAY_IN_MS+i*e.HOUR_IN_MS+s*e.MINUTE_IN_MS+r*e.SECOND_IN_MS;if(!o.number(t)||t===a)return a;{const o={days:Math.floor(t/e.DAY_IN_MS),hours:Math.floor(t%e.DAY_IN_MS/e.HOUR_IN_MS),minutes:Math.floor(t%e.HOUR_IN_MS/e.MINUTE_IN_MS),seconds:Math.floor(t%e.MINUTE_IN_MS/e.SECOND_IN_MS),milliseconds:t};e.$days.val(o.days),e.$hours.val(o.hours),e.$minutes.val(o.minutes),e.$seconds.val(o.seconds),e.doValueChanged()}},onInputChange:function(t){const e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),e.fields.register("time-selector",e.TimeSelector,".foofields-type-time-selector",{},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj),function(t,e,o){e.Conditions=e.Field.extend({construct:function(t,o,n,i,s){const r=this;r._super(t,o,n,i,s),r.$addButton=r.$input.children(r.sel.add),r.$table=r.$input.children("table").first(),r.$tbody=r.$table.children("tbody").first(),r.$template=r.$table.children("tfoot").first().children("tr").first(),r.rows=r.$tbody.children("tr").map(function(t,o){return new e.Conditions.Row(r,o)}).get()},init:function(){const t=this;let e;t._super(),t.$addButton.on("click.foofields",{self:t},t.onAddNewClick),t.rows.forEach(function(t){t.init()}),t.$tbody.sortable({cancel:":input",forcePlaceholderSize:!0,placeholder:"foofields-conditions-placeholder",items:"> tr",distance:5,start:function(t,o){e=o.item.index(),o.placeholder.height(o.item.height())},update:function(o,n){const i=n.item.index(),s=e<i?e:i;t.$tbody.children("tr").eq(s).nextAll("tr").andSelf().trigger("index-change")}}),0===t.rows.length&&t.addNewRow()},destroy:function(){const t=this;t.$tbody.sortable("destroy"),t.rows.forEach(function(t){t.destroy()}),t.$addButton.off(".foofields"),t._super()},addNewRow:function(){const t=this,o=new e.Conditions.Row(t,t.$template.clone());return t.rows.push(o),t.$tbody.append(o.$el).sortable("refresh"),o.init(!0),t.$el.removeClass(t.cls.empty),t.doValueChanged(),o},remove:function(t){var e=this,o=t.$el.nextAll("tr");t.$el.remove();var n=e.rows.indexOf(t);-1!==n&&e.rows.splice(n,1),0===e.rows.length?e.opt.allowEmpty?e.$el.addClass(e.cls.empty):e.addNewRow():(e.$tbody.sortable("refresh"),o.trigger("index-change"),e.doValueChanged())},onAddNewClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()},toggle:function(t){this._super(t),this.$template.find(":input").attr("disabled","disabled")},val:function(t){const e=this;if(!o.array(t))return e.rows.map(function(t){return t.val()});e.rows.forEach(function(e,o){e.val(o<t.length?t[o]:[])})}}),e.fields.register("conditions",e.Conditions,".foofields-type-conditions",{allowEmpty:!1},{add:"foofields-conditions-add",empty:"foofields-empty"},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e,o,n){e.Conditions.Row=e.Component.extend({construct:function(t,o){const n=this;n._super(t.instance,o,t.cls,t.sel),n.parent=t,n.ctnr=t.ctnr,n.$cells=n.$el.children("td,th"),n.fields=n.$cells.children(n.sel.el).map(function(t,o){return e.fields.create(n,o)}).get(),n.regex={id:/(_)-?\d+(_|-?)/i,name:/(\[)-?\d+(])/i}},init:function(t){const e=this;e._super(),e.$el.on("index-change.foofields",{self:e},e.onIndexChange),e.fields.forEach(function(t){t.on("change",e.onFieldChange,e),t.init()}),t&&e.reindex()},destroy:function(){var t=this;t.fields.forEach(function(e){e.off("change",t.onFieldChange,t),e.destroy()}),t._super()},remove:function(){this.parent.remove(this)},reindex:function(){var t=this,e=t.$el.index();t.fields.forEach(function(o){o.id=t.update(o.$el,e),o.$el.find("[id],[name]").each(function(o,n){t.update(n,e)})}),t.trigger("index-change",[e])},update:function(e,o){var i=(e=n.jq(e)?e:t(e)).prop("id");if(n.string(i)){var s=i.replace(this.regex.id,"$1"+o+"$2");s!==i&&(e.prop("id",s),i=s)}var r=e.prop("name");if(n.string(r)){var a=r.replace(this.regex.name,"$1"+o+"$2");a!==r&&e.prop("name",a)}return i},field:function(t){return o.find(this.fields,function(e){return e.id===t})},onIndexChange:function(t){t.data.self.reindex()},onFieldChange:function(){this.parent.doValueChanged()},enable:function(){this.fields.forEach(function(t){t.enable()})},val:function(t){const o=this.fields.filter(function(t){return!(t instanceof e.Conditions.RowIndex)});if(!n.array(t))return o.map(function(t){return t.val()});o.forEach(function(e,o){e.val(o<t.length?t[o]:"")})}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(t,e,o,n){e.Conditions.RowIndex=e.Field.extend({setup:function(){this.content.on("index-change",this.onIndexChange,this)},teardown:function(){this.content.off("index-change")},onIndexChange:function(t,e){this.$input.text(n.format(this.opt.format,{index:e,count:e+1}))}}),e.fields.register("conditions-index",e.Conditions.RowIndex,".foofields-type-conditions-index",{format:"{count}"},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.str),function(t,e,o){e.Conditions.Group=e.Field.extend({construct:function(t,o,n,i,s){var r=this;r._super(t,o,n,i,s),r.$addButton=r.$input.children(r.sel.add),r.$removeButton=r.$input.children(r.sel.remove),r.$table=r.$input.children("table").first(),r.$tbody=r.$table.children("tbody").first(),r.$template=r.$table.children("tfoot").first().children("tr").first(),r.rows=r.$tbody.children("tr").map(function(t,o){return new e.Conditions.Group.Row(r,o)}).get()},init:function(){var t,e=this;e._super(),e.$addButton.on("click.foofields",{self:e},e.onAddNewClick),e.$removeButton.on("click.foofields",{self:e},e.onRemoveClick),e.rows.forEach(function(t){t.init()}),e.$tbody.sortable({cancel:":input",forcePlaceholderSize:!0,placeholder:"foofields-conditions-group-placeholder",items:"> tr",distance:5,start:function(e,o){t=o.item.index(),o.placeholder.height(o.item.height())},update:function(o,n){var i=n.item.index(),s=t<i?t:i;e.$tbody.children("tr").eq(s).nextAll("tr").andSelf().trigger("index-change")}}),0===e.rows.length&&e.addNewRow()},destroy:function(){var t=this;t.$tbody.sortable("destroy"),t.rows.forEach(function(t){t.destroy()}),t.$addButton.off(".foofields"),t._super()},addNewRow:function(t){var o=this,n=new e.Conditions.Group.Row(o,o.$template.clone());return t instanceof e.Conditions.Group.Row?(o.rows.push(n),t.$el.after(n.$el)):(o.rows.push(n),o.$tbody.append(n.$el)),o.$tbody.sortable("refresh"),n.init(!0),o.$el.removeClass(o.cls.empty),o.doValueChanged(),n},remove:function(t){const o=this;if(t instanceof e.Conditions.Group.Row){const e=t.$el.nextAll("tr");t.$el.remove();const n=o.rows.indexOf(t);-1!==n&&o.rows.splice(n,1),0===o.rows.length?o.opt.allowEmpty?o.$el.addClass(o.cls.empty):o.content.remove():(o.$tbody.sortable("refresh"),e.trigger("index-change"),o.doValueChanged())}else o.content.remove()},index:function(){return this.content.$el.index()},onAddNewClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()},onRemoveClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.remove()},toggle:function(t){this._super(t),this.$template.find(":input").attr("disabled","disabled")},val:function(t){const e=this;if(!o.array(t))return e.rows.map(function(t){return t.val()});e.rows.forEach(function(e,o){e.val(o<t.length?t[o]:[])})}}),e.fields.register("conditions-group",e.Conditions.Group,".foofields-type-conditions-group",{allowEmpty:!1},{add:"foofields-conditions-group-empty-add",remove:"foofields-conditions-group-empty-remove",empty:"foofields-empty",types:"foofields-conditions-group-types",operators:"foofields-conditions-group-operators",values:"foofields-conditions-group-values"},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e,o,n){e.Conditions.Group.Row=e.Component.extend({construct:function(t,n){const i=this;i._super(t.instance,n,t.cls,t.sel),i.parent=t,i.ctnr=t.ctnr,i.$cells=i.$el.children("td,th"),i.fields=i.$cells.children(i.sel.el).map(function(t,o){return e.fields.create(i,o)}).get(),i.regex={id:/(_)-?\d+(_|-?)/gi,name:/(\[)-?\d+(])/gi},i.types=o.find(i.fields,function(t){return t.$el.hasClass(i.cls.types)}),i.operators=o.find(i.fields,function(t){return t.$el.hasClass(i.cls.operators)}),i.values=o.find(i.fields,function(t){return t.$el.hasClass(i.cls.values)}),i.changed=!1},init:function(t){const e=this;e._super(),e.$el.on("index-change.foofields",{self:e},e.onIndexChange),e.fields.forEach(function(t){t.on("change",e.onFieldChange,e),t.init()}),t&&e.reindex()},destroy:function(){const t=this;t.fields.forEach(function(e){e.off("change",t.onFieldChange,t),e.destroy()}),t._super()},remove:function(){this.parent.remove(this)},addNewRow:function(){this.parent.addNewRow(this)},reindex:function(){const t=this,e=t.parent.index(),o=t.$el.index();t.fields.forEach(function(n){n.id=t.update(n.$el,e,o),n.$el.find("[id],[name]").each(function(n,i){t.update(i,e,o)})}),t.trigger("index-change",[o])},update:function(e,o,i){let s=(e=n.jq(e)?e:t(e)).prop("id"),r=!0;if(n.string(s)){r=!0;const t=s.replace(this.regex.id,function(t,e,n){return!0===r?(r=!1,e+o+n):e+i+n});t!==s&&(e.prop("id",t),s=t)}const a=e.prop("name");if(n.string(a)){r=!0;const t=a.replace(this.regex.name,function(t,e,n){return!0===r?(r=!1,e+o+n):e+i+n});t!==a&&e.prop("name",t)}return s},field:function(t){return o.find(this.fields,function(e){return e.id===t})},onIndexChange:function(t){t.data.self.reindex()},onFieldChange:function(){this.changed=!0,this.parent.doValueChanged()},enable:function(){this.fields.forEach(function(t){t.enable()})},val:function(t){const o=this.fields.filter(function(t){return!(t instanceof e.Conditions.Group.RowIndex||t instanceof e.Conditions.Group.DeleteButton)});if(!n.array(t))return o.map(function(t){return t.val()});o.forEach(function(e,o){e.val(o<t.length?t[o]:"")})},getType:function(){const t=this;return t.types instanceof e.Field?t.types.val():null},getTypeOptions:function(){const t=this;return t.types instanceof e.Field&&t.types.$el.find(":selected").data("selectize")||{}},getOperator:function(){const t=this;return t.operators instanceof e.Field?t.operators.val():null},getEndpoint:function(){const t=this;return t.parent instanceof e.Conditions.Group&&t.parent.content instanceof e.Conditions.Row&&t.parent.content.parent instanceof e.Conditions?window.ajaxurl+"?"+t.parent.content.parent.opt.query:""}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(t,e,o,n){e.Conditions.Group.RowIndex=e.Field.extend({setup:function(){this.content.on("index-change",this.onIndexChange,this)},teardown:function(){this.content.off("index-change")},onIndexChange:function(t,e){this.$input.text(n.format(this.opt.format,{index:e,count:e+1}))}}),e.fields.register("conditions-group-index",e.Conditions.Group.RowIndex,".foofields-type-conditions-group-index",{format:"{count}"},{},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.str),function(t,e,o,n){window.Selectize?(e.Conditions.Group.Selectize=e.Field.extend({setup:function(){const t=this;t.$select=t.$input.children("select").first(),n.extend(t.opt,t.$select.data()),t.$select.removeData("selectize"),t.$select.removeAttr("data-selectize"),t.setupSelectize(!0),t.content.types.on("change",t.onTypeChanged,t)},setupSelectize:function(t){const e=this,i={},s=e.content.getTypeOptions();n.extend(i,e.opt.selectize,s,{onChange:e.onSelectizeChange.bind(e)});let r=!1;if(t&&o.array(e.opt.selectize.items)&&e.opt.selectize.items.length&&(delete e.opt.selectize.items,o.array(i.items)&&i.items.length>0&&(r=!0,e.content.changed=!0)),o.array(i.options)&&i.options.length>0){if(!r&&i.firstSelected&&o.string(i.valueField)){const t=i.options[0];t.hasOwnProperty(i.valueField)&&(i.items=[t[i.valueField]])}}else n.extend(i,{preload:r||i.firstSelected,load:e.onSelectizeLoad.bind(e)});1!==i.maxItems&&(i.plugins=["remove_button"]),e.api instanceof window.Selectize&&e.api.destroy(),e.api=e.$select.selectize(i).get(0).selectize,i.preload&&e.api instanceof window.Selectize&&e.api.on("load",function(t){if(o.array(t)&&t.length>0)if(!r&&i.firstSelected&&o.string(i.valueField)){const o=t[0];o.hasOwnProperty(i.valueField)&&e.api.setValue(o[i.valueField])}else r&&e.api.setValue(i.items);else console.debug(e.i18n.dataInvalid,t)})},teardown:function(){const t=this;t.api instanceof Selectize&&t.api.destroy()},fetch:function(e){const o=this,n=o.content.getType(),i=o.content.getOperator(),s=o.content.getEndpoint();return t.get(s,{q:e,type:n,operator:i})},enable:function(){const t=this;t.api instanceof Selectize&&t.api.enable()},disable:function(){const t=this;t.api instanceof Selectize&&t.api.disable()},val:function(t){const e=this;return e.api?o.undef(t)?e.api.getValue():(e.api.setValue(t),void e.doValueChanged()):""},onTypeChanged:function(){this.setupSelectize()},onSelectizeLoad:function(t,e){this.fetch(t).done(function(t){e(t.results)}).fail(function(){e()})},onSelectizeChange:function(t){}}),e.fields.register("conditions-group-selectize",e.Conditions.Group.Selectize,".foofields-type-conditions-group-selectize",{selectize:{preload:!1,delimiter:", ",create:!1,valueField:"id",labelField:"text",searchField:"text",maxItems:null,firstSelected:!1,closeAfterSelect:!0}},{},{dataInvalid:"The selectize load method returned an empty or unexpected data object."})):console.log("FooFields.Conditions.Group.Selectize dependency missing.")}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e,o){e.Conditions.Group.DeleteButton=e.Field.extend({setup:function(){const t=this;t.$button=t.$input.find(t.sel.button).on("click.foofields",{self:t},t.onClick),t.confirmMessage=t.$button.data("confirm")},teardown:function(){this.$button.off(".foofields")},removeRow:function(){const t=this;(!1===t.content.changed||o.string(t.confirmMessage)&&confirm(t.confirmMessage))&&t.content.remove()},onClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.removeRow()}}),e.fields.register("conditions-group-delete",e.Conditions.Group.DeleteButton,".foofields-type-conditions-group-delete",{},{button:"foofields-conditions-group-delete"},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e){e.Conditions.Group.AddButton=e.Field.extend({setup:function(){const t=this;t.$button=t.$input.find(t.sel.button).on("click.foofields",{self:t},t.onClick)},teardown:function(){this.$button.off(".foofields")},addNewRow:function(){this.content.addNewRow()},onClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()}}),e.fields.register("conditions-group-add",e.Conditions.Group.AddButton,".foofields-type-conditions-group-add",{},{button:"foofields-conditions-group-add"},{})}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e,o,n,i,s,r){e.Live=o.EventClass.extend({construct:function(){const t=this;t._super(),t.containerId="foobar_notification-settings-container",t.idRegex=/^foobar_notification-settings_(.*?)-field$/,t.nameRegex=/^foobar_notification-settings\[(.*?)]$/,t.arrayNameRegex=/^foobar_notification-settings\[.*?]\[(\d)](?:\[(.+?)])?$/,t.objectArrayNameRegex=/^foobar_notification-settings\[.*?]\[(\d)]\[(.*?)]$/,t.nameFormat="foobar_notification-settings[{0}]",t.bar=null,t.opt=null,t.ctnr=null,t.$inputs=null,t.fields=[],t.initialized=!1},register:function(t){const o=this;return t instanceof e.Live.Field&&(t.live=o,o.fields.push(t),!0)},init:function(){const o=this;if(o.bar=o.getBar(),o.bar instanceof e.Bar&&(o.opt=i.extend({},o.bar.opt),o.bar.$el.removeData("options").removeAttr("data-options"),o.ctnr=FooFields.container(o.containerId),o.ctnr instanceof FooFields.Container)){const e=o.ctnr.activate;o.ctnr.activate=function(t){e.call(o.ctnr,t),o.trigger("tab-changed",[o.ctnr.$state.val()])},o.$inputs=o.ctnr.$el.find(":input");const n=o.getData();o.fields.forEach(function(t){t.init(n)}),t("style#"+o.bar.id+"_custom").remove(),o.trigger("tab-changed",[o.ctnr.$state.val()]),o.initialized=!0}},getPostId:function(){const e=t("#post_ID");if(e.length>0)return e.val();throw new Error('Unable to find the "#post_ID" element.')},getBar:function(){const t=this.getPostId(),n=e.getAll();return o.find(n,function(e){return s.endsWith(e.id,t)})},reinitBar:function(t){const o=this;if(o.bar instanceof e.Bar){const i=o.bar;i.destroy();let s=!1;if(n.fn(t)&&(s=!!t.call(o,i)),!s){const t=e.create(i.id);if(t instanceof e.Bar)return t.init().then(()=>(o.bar=t,t))}}return r.rejected},replaceItems:function(t){return this.bar.replaceItems(...t)},getItemByCapability:function(t){const o=this;return n.array(t)&&0!==t.length?o.bar.findChild(function(e){return!!n.array(e.capabilities)&&t.some(function(t){return e.capabilities.includes(t)})})??o.bar.getFirst():o.bar.item instanceof e.Item?o.bar.item:o.bar.getFirst()},getData:function(){return this.ctnr.$el.find(":input").serializeArray()},getValue:function(t,e){const i=this;if(n.string(t)){i.nameRegex.test(t)||(t=s.format(i.nameFormat,t)),n.array(e)||(e=i.getData());const r=o.find(e,function(e){return e.name===t});if(n.hash(r)&&n.string(r.value))return r.value}return null},getArrayValue:function(t,e){const o=this;return n.string(t)?(o.nameRegex.test(t)||(t=s.format(o.nameFormat,t)),n.array(e)||(e=o.getData()),e.reduce((e,{name:n,value:i})=>{if(n.startsWith(t)&&o.arrayNameRegex.test(n)){let t;if(o.objectArrayNameRegex.test(n)){if(t=n.match(o.objectArrayNameRegex),t){let[o,n,s]=t;e.at(n)||(e[n]={}),e[n][s]=i}}else if(t=n.match(o.arrayNameRegex),t){let[o,n]=t;e[n]=i}}return e},[])):null},setClass:function(t,e){this.bar.disableTransitionsTemporarily(function(o){o.removeClass(n.array(e)?e.join(" "):e+"").addClass(t)})},setItemClass:function(t,o){const i=this;i.bar.item instanceof e.Item&&i.bar.disableTransitionsTemporarily(function(){i.bar.item.$el.removeClass(n.array(o)?o.join(" "):o+"").addClass(t)})},addItemClass:function(t){const o=this;o.bar.item instanceof e.Item&&o.bar.disableTransitionsTemporarily(function(){o.bar.item.$el.addClass(n.array(t)?t.join(" "):t+"")})},removeItemClass:function(t){const o=this;o.bar.item instanceof e.Item&&o.bar.disableTransitionsTemporarily(function(){o.bar.item.$el.removeClass(n.array(t)?t.join(" "):t+"")})},toggleItemClass:function(t,e){const o=this;e?o.addItemClass(t):o.removeItemClass(t)},setIcon:function(o,n){const i=this.bar;i.opt.icons.hasOwnProperty(o)&&i.cls.icons.hasOwnProperty(o)&&e.icons.exists(n,i.opt.svg)&&(i.opt.icons[o]=n,i.$el.find(i.sel.icons[o]).each(function(s,r){t(r).replaceWith(e.icons.get(n,i.opt.svg,[i.cls.icons[o]]))}))},setToggleAction:function(o){const n=this.bar;"dismiss"!==o&&(o="collapse");const i="dismiss"===o?"collapse":"dismiss";n.opt.icons.hasOwnProperty(o)&&n.sel.icons.hasOwnProperty(i)&&n.cls.icons.hasOwnProperty(o)&&e.icons.exists(n.opt.icons[o],n.opt.svg)&&n.$el.find(n.sel.icons[i]).each(function(i,s){t(s).replaceWith(e.icons.get(n.opt.icons[o],n.opt.svg,[n.cls.icons[o]]))})},setOption:function(t,e){i.prop(this.opt,t,e)},nl2br:function(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br/>")},setMessage:function(t,o){const n=this;n.bar.item instanceof e.Item&&(t=i.extend({text:null,show_link:null,link_text:null,link_url:null,link_target:null},t),n.setMessageDirect({text:n.getValue(t.text,o),show_link:n.getValue(t.show_link,o),link_text:n.getValue(t.link_text,o),link_url:n.getValue(t.link_url,o),link_target:n.getValue(t.link_target,o)}))},setMessageDirect:function(o){const s=this;if(s.bar.item instanceof e.Item){o=i.extend({text:null,show_link:null,link_text:null,link_url:null,link_target:null},o);const e=s.bar.item.$el.find(".fbr-message");n.string(o.text)&&e.html(s.nl2br(o.text)),"yes"===o.show_link&&n.string(o.link_text)&&o.link_text.length>0&&e.append(t("<a/>",{text:o.link_text,href:o.link_url,target:o.link_target}))}},setButton:function(e,o,s){const r=this;let a=r.bar.item.$el.find("."+e);if("yes"===(o=i.extend({show_button:"yes",icon:null,show_icon:"no",text:null,href:null,target:null,mobile:"fbr-mobile-100"},o)).show_button)if(0===a.length){a=t("<a/>",{class:"fbr-button"+(n.string(o.mobile)?" "+o.mobile:"")+" "+e+(s?" fbr-button-secondary":"")+("yes"!==o.show_icon?" fbr-no-icon":""),text:o.text,href:o.href,target:o.target}).prepend(r.bar.icon(o.icon));let i=r.bar.item.$el.find(".fbr-buttons");0===i.length&&(i=t("<div/>",{class:"fbr-buttons"}),r.bar.item.$el.find(".fbr-message").after(i)),s?i.append(a):i.prepend(a)}else a.text(o.text).attr({href:o.url,target:o.target}).toggleClass("fbr-button-secondary",s).toggleClass("fbr-no-icon","yes"!==o.show_icon).removeClass("fbr-mobile-33 fbr-mobile-50 fbr-mobile-100").addClass(o.mobile).prepend(r.bar.icon(o.icon));else a.remove()},reinit:function(){const t=this,o=t.bar.$el;t.bar.destroy(),t.bar=e.plugin.createChild(o.data("options",i.extend({},t.opt))),t.bar.init()},redraw:function(){this.bar.opt=i.extend({},this.opt),e.layout(!0)}}),e.live=new e.Live}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str,FooBar.utils.fn),function(t,e,o,n,i,s){e.Live.Field=o.Class.extend({construct:function(t,e,o){const i=this;i.id=t,i.capabilities=n.array(e)?e:[],i.targetType=n.fn(o)?o:null,i.live=null,i.field=null,i.initial={}},hasChanged:function(t,e){const o=s.equal(this.initial[t],e);return this.initial[t]=e,!o},init:function(t){const o=this;o.live instanceof e.Live&&(o.field=o.live.ctnr.field(o.id),o.field instanceof FooFields.Field&&(o.setup(t),o.field.on("change",o.onChange,o)))},setup:function(t){},getValue:function(t,e){return this.live.getValue(t,e)},getArrayValue:function(t,e){return this.live.getArrayValue(t,e)},targetItem:function(){const t=this;if(null!==t.targetType){const o=t.live.bar.getByType(t.targetType);if(o instanceof e.Item)return o}return t.live.getItemByCapability(t.capabilities)},showTarget:function(){const t=this,e=t.targetItem();return t.live.bar.item!==e?t.live.bar.goto(e):i.resolve()},applyChange:function(t){},finalize:function(t,e){e?this.live.reinit():t&&this.live.redraw()},onChange:function(){const t=this;t.showTarget().then(function(){t.applyChange(t.live.getData())})}})}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.fn,FooBar.utils.obj),function(t,e,o,n){e.Live.CustomizerField=e.Live.Field.extend({construct:function(t,e,o){this._super(t,e,o),this.style=null},hasChanges:function(t){const e=this;let n=!1;return o.each(t,function(t,o){e.hasChanged(o,t)&&!n&&(n=!0)}),n},setup:function(t,e){const o=this;o.style=document.createElement("style"),o.style.appendChild(document.createTextNode("")),document.head.appendChild(o.style),n.hash(e)&&(o.initial=e),o.applyChange(t,!0)},getColor:function(t,e){const o=this.getValue(t,e);return null!==o?o:"rgba(0,0,0,0)"},applyChange:function(t,e){const o=this;o.style.innerHTML=o.toCSS(o.live.bar.id,t,e)},toCSS:function(t,e){throw new Error('A customizer group must have its "toCSS" method overridden in a sub class.')}})}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o,n){e.Live.CombinedField=e.Live.Field.extend({construct:function(t,e,o){const i=this;i.ids=t,i.capabilities=n.array(e)?e:[],i.targetType=n.fn(o)?o:null,i.live=null,i.fields=[],i.initial={}},init:function(t){const o=this;o.live instanceof e.Live&&n.array(o.ids)&&(o.fields=o.ids.map(function(t){return o.live.ctnr.field(t)}).filter(function(t){return t instanceof FooFields.Field}),o.fields.length>1&&(o.setup(t),o.fields.forEach(function(t){t.on("change",o.onChange,o)})))}})}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o,n){e.Live.CombinedCustomizerField=e.Live.CombinedField.extend({construct:function(t,e,o){this._super(t,e,o),this.style=null},hasChanges:function(t){const e=this;let n=!1;return o.each(t,function(t,o){e.hasChanged(o,t)&&!n&&(n=!0)}),n},setup:function(t,e){const o=this;o.style=document.createElement("style"),o.style.appendChild(document.createTextNode("")),document.head.appendChild(o.style),n.hash(e)&&(o.initial=e),o.applyChange(t,!0)},getColor:function(t,e){const o=this.getValue(t,e);return null!==o?o:"rgba(0,0,0,0)"},applyChange:function(t,e){const o=this;o.style.innerHTML=o.toCSS(o.live.bar.id,t,e)},toCSS:function(t,e){throw new Error('A customizer group must have its "toCSS" method overridden in a sub class.')}})}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_Background=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_background_field_group-field")},setup:function(t){const e=this;e._super(t,{type:e.getValue("custom_color_background_type",t),solid:e.getColor("custom_color_background_solid",t),gradient_from:e.getColor("custom_color_background_gradient_from",t),gradient_to:e.getColor("custom_color_background_gradient_to",t),gradient_type:e.getValue("custom_color_background_gradient_type",t),gradient_angle:e.getValue("custom_color_background_gradient_angle",t)})},toCSS:function(t,e,o){const n=this,i=n.getValue("custom_color_background_type",e),s=n.getColor("custom_color_background_solid",e),r=n.getColor("custom_color_background_gradient_from",e),a=n.getColor("custom_color_background_gradient_to",e),l=n.getValue("custom_color_background_gradient_type",e),u=n.getValue("custom_color_background_gradient_angle",e);let c="";switch(c+="\n#"+t+".fbr-custom-color {",i){case"solid":c+="\n\t--foobar-bar-background-color: "+s+";",c+="\n\t--foobar-bar-background-image: none;";break;case"gradient":let t="circle";"linear"===l&&(t=u+"deg"),c+="\n\t--foobar-bar-background-color: "+r+";",c+="\n\t--foobar-bar-background-image: "+l+"-gradient("+t+", "+r+" 0%, "+a+" 100%);"}return c+="\n}",c}}),e.live.register(new e.Live.Appearance_Customizer_Background)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_Border=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_border_field_group-field",["has_border"])},setup:function(t){this._super(t,{color:this.getValue("custom_color_border_color",t)})},toCSS:function(t,e,o){let n="";return n+="\n#"+t+".fbr-custom-color {",n+="\n\t--foobar-item-border-color: "+this.getValue("custom_color_border_color",e)+";",n+="\n}",n}}),e.live.register(new e.Live.Appearance_Customizer_Border)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_Button=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_button_field_group-field",["has_buttons","has_button"])},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_button_background",t),text:e.getColor("custom_color_button_text",t),hover_background:e.getColor("custom_color_button_hover_background",t),hover_text:e.getColor("custom_color_button_hover_text",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-button-background-color: "+n.getColor("custom_color_button_background",e)+";",i+="\n\t--foobar-button-text-color: "+n.getColor("custom_color_button_text",e)+";",i+="\n\t--foobar-button-hover-background-color: "+n.getColor("custom_color_button_hover_background",e)+";",i+="\n\t--foobar-button-hover-text-color: "+n.getColor("custom_color_button_hover_text",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_Button)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_ButtonSecondary=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_button_secondary_field_group-field",["has_buttons","has_button_secondary"])},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_button_secondary_background",t),text:e.getColor("custom_color_button_secondary_text",t),hover_background:e.getColor("custom_color_button_secondary_hover_background",t),hover_text:e.getColor("custom_color_button_secondary_hover_text",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-button-secondary-background-color: "+n.getColor("custom_color_button_secondary_background",e)+";",i+="\n\t--foobar-button-secondary-text-color: "+n.getColor("custom_color_button_secondary_text",e)+";",i+="\n\t--foobar-button-secondary-hover-background-color: "+n.getColor("custom_color_button_secondary_hover_background",e)+";",i+="\n\t--foobar-button-secondary-hover-text-color: "+n.getColor("custom_color_button_secondary_hover_text",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_ButtonSecondary)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_NextButton=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_next_field_group-field")},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_next_background",t),icon:e.getColor("custom_color_next_icon",t),hover_background:e.getColor("custom_color_next_hover_background",t),hover_icon:e.getColor("custom_color_next_hover_icon",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-next-background-color: "+n.getColor("custom_color_next_background",e)+";",i+="\n\t--foobar-next-icon-color: "+n.getColor("custom_color_next_icon",e)+";",i+="\n\t--foobar-next-hover-background-color: "+n.getColor("custom_color_next_hover_background",e)+";",i+="\n\t--foobar-next-hover-icon-color: "+n.getColor("custom_color_next_hover_icon",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_NextButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_PreviousButton=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_prev_field_group-field")},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_prev_background",t),icon:e.getColor("custom_color_prev_icon",t),hover_background:e.getColor("custom_color_prev_hover_background",t),hover_icon:e.getColor("custom_color_prev_hover_icon",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-prev-background-color: "+n.getColor("custom_color_prev_background",e)+";",i+="\n\t--foobar-prev-icon-color: "+n.getColor("custom_color_prev_icon",e)+";",i+="\n\t--foobar-prev-hover-background-color: "+n.getColor("custom_color_prev_hover_background",e)+";",i+="\n\t--foobar-prev-hover-icon-color: "+n.getColor("custom_color_prev_hover_icon",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_PreviousButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_TextAndLinks=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_text_field_group-field")},setup:function(t){const e=this;e._super(t,{text:e.getColor("custom_color_text",t),link:e.getColor("custom_color_link",t),link_hover:e.getColor("custom_color_link_hover",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-bar-text-color: "+n.getColor("custom_color_text",e)+";",i+="\n\t--foobar-message-link-color: "+n.getColor("custom_color_link",e)+";",i+="\n\t--foobar-message-link-hover-color: "+n.getColor("custom_color_link_hover",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_TextAndLinks)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_TextInput=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_text_input_field_group-field",["has_inputs","has_text_input"])},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_text_input_background",t),text:e.getColor("custom_color_text_input_text",t),placeholder:e.getColor("custom_color_text_input_placeholder",t)})},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-input-background-color: "+n.getColor("custom_color_text_input_background",e)+";",i+="\n\t--foobar-input-text-color: "+n.getColor("custom_color_text_input_text",e)+";",i+="\n\t--foobar-input-placeholder-color: "+n.getColor("custom_color_text_input_placeholder",e)+";",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_TextInput)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_TextInputWithButton=e.Live.CombinedCustomizerField.extend({construct:function(){this._super(["foobar_notification-settings_custom_color_text_input_background-field","foobar_notification-settings_custom_color_button_background-field"],["has_input_with_button"])},setup:function(t){const e=this;e._super(t,{text:e.getColor("custom_color_text_input_background",t),button:e.getColor("custom_color_button_background",t)})},toCSS:function(t,e,o){let n="";return n+="\n#"+t+".fbr-custom-color {",n+="\n\t--foobar-input-background-color: "+this.getColor("custom_color_text_input_background",e)+";",n+="\n\t--foobar-button-background-color: "+this.getColor("custom_color_button_background",e)+";",n+="\n}",n}}),e.live.register(new e.Live.Appearance_Customizer_TextInputWithButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_ToggleButton=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_toggle_field_group-field")},setup:function(t){const e=this;e._super(t,{background:e.getColor("custom_color_toggle_background",t),icon:e.getColor("custom_color_toggle_icon",t),hover_background:e.getColor("custom_color_toggle_hover_background",t),hover_icon:e.getColor("custom_color_toggle_hover_icon",t)})},toCSS:function(t,e,o){const n=this,i=n.getColor("custom_color_toggle_background",e),s=n.getColor("custom_color_toggle_icon",e),r=n.getColor("custom_color_toggle_hover_background",e),a=n.getColor("custom_color_toggle_hover_icon",e);let l="";return l+="\n#"+t+".fbr-custom-color {",l+="\n\t--foobar-toggle-open-background-color: "+i+";",l+="\n\t--foobar-toggle-open-icon-color: "+s+";",l+="\n\t--foobar-toggle-open-hover-background-color: "+r+";",l+="\n\t--foobar-toggle-open-hover-icon-color: "+a+";",l+="\n\t--foobar-toggle-closed-background-color: "+i+";",l+="\n\t--foobar-toggle-closed-icon-color: "+s+";",l+="\n\t--foobar-toggle-closed-hover-background-color: "+r+";",l+="\n\t--foobar-toggle-closed-hover-icon-color: "+a+";",l+="\n}",l}}),e.live.register(new e.Live.Appearance_Customizer_ToggleButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Customizer_ToggleButtonClosed=e.Live.CombinedCustomizerField.extend({construct:function(){this._super(["foobar_notification-settings_custom_color_toggle_field_group-field","foobar_notification-settings_custom_color_toggle_closed_field_group-field"])},setup:function(t){const e=this;e._super(t,{closed_colors:e.getValue("custom_color_toggle_closed_colors",t),background:e.getColor("custom_color_toggle_closed_background",t),icon:e.getColor("custom_color_toggle_closed_icon",t),hover_background:e.getColor("custom_color_toggle_closed_hover_background",t),hover_icon:e.getColor("custom_color_toggle_closed_hover_icon",t)})},toCSS:function(t,e,o){const n=this,i=n.getValue("custom_color_toggle_closed_colors",e),s=n.getColor("custom_color_toggle_closed_background",e),r=n.getColor("custom_color_toggle_closed_icon",e),a=n.getColor("custom_color_toggle_closed_hover_background",e),l=n.getColor("custom_color_toggle_closed_hover_icon",e);let u="";return"yes"===i&&(u+="\n#"+t+".fbr-custom-color {",u+="\n\t--foobar-toggle-closed-background-color: "+s+";",u+="\n\t--foobar-toggle-closed-icon-color: "+r+";",u+="\n\t--foobar-toggle-closed-hover-background-color: "+a+";",u+="\n\t--foobar-toggle-closed-hover-icon-color: "+l+";",u+="\n}"),u}}),e.live.register(new e.Live.Appearance_Customizer_ToggleButtonClosed)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o,n){e.Live.Appearance_Effects=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_effects_field_group-field"),this.effects=["fbr-att-bounce","fbr-att-heartbeat","fbr-att-pulse","fbr-att-ripple","fbr-att-wiggle"]},setup:function(t){const e=this;e.initial={toggle:e.getValue("effect_toggle",t),button:e.getValue("effect_button",t),enabled:e.getValue("effect_enabled")}},applyChange:function(t){const e=this,o=e.getValue("effect_toggle",t),n=e.getValue("effect_button",t),i=e.getValue("effect_enabled",t);let s=!1,r=!1;e.hasChanged("toggle",o)&&(e.setEffectClass("toggle",o,e.effects),s=!0),e.hasChanged("button",n)&&("sign-up"===e.live.bar.name?e.setEffectClass("input-with-button",n,e.effects):e.setEffectClass("button",n,e.effects),s=!0),e.hasChanged("enabled",i)&&(e.live.setOption("disableEffects","interaction"===i),r=!0),e.finalize(s,r)},getItemElement:function(t){const o=this;if(o.live.bar.item instanceof e.Item){const e=o.live.bar.item.$el.find(t).first();if(e.length>0)return e}return null},setEffectClass:function(t,e,o){const i=this;let s=null;switch(t){case"toggle":s=i.live.bar.$toggle;break;case"button":s=i.getItemElement(".fbr-button");break;case"button-secondary":s=i.getItemElement(".fbr-button-secondary");break;case"input":s=i.getItemElement(".fbr-input");break;case"input-with-button":s=i.getItemElement(".fbr-input-with-button")}n.jq(s)&&i.live.bar.disableTransitionsTemporarily(function(){s.removeClass(n.array(o)?o.join(" "):o+"").addClass(e)})}}),e.live.register(new e.Live.Appearance_Effects)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_General=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_appearance_group-field"),t.colors=["fbr-blue","fbr-green","fbr-purple","fbr-red","fbr-orange","fbr-yellow","fbr-dark","fbr-light","fbr-custom-color"],t.font_sizes=["fbr-font-14px","fbr-font-16px","fbr-font-18px","fbr-font-20px","fbr-font-22px","fbr-font-24px"],t.transitions=["fbr-transition-slide","fbr-transition-fade","fbr-transition-slide-fade"],t.itemTransitions=["fbr-transition-item-slide-x","fbr-transition-item-slide-y","fbr-transition-item-fade"]},setup:function(t){const e=this;e.initial={color:e.getValue("color",t),font_size:e.getValue("font_size",t),transition:e.getValue("transition",t)},e.setItemTransition(e.initial.transition)},setItemTransition:function(t){let e="";t?.startsWith("fbr-transition-slide")?e="fbr-transition-item-slide-x":"fbr-transition-fade"===t&&(e="fbr-transition-item-fade"),this.live.setClass(e,this.itemTransitions)},applyChange:function(t){const e=this,o=e.getValue("color",t),n=e.getValue("font_size",t),i=e.getValue("transition",t);let s=!1;e.hasChanged("color",o)&&(e.live.setClass(o,e.colors),s=!0),e.hasChanged("font_size",n)&&(e.live.setClass(n,e.font_sizes),s=!0),e.hasChanged("transition",i)&&(e.live.setClass(i,e.transitions),e.setItemTransition(i),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Appearance_General)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Icons_Nav=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_icons_navigation_field_group-field")},setup:function(t){const e=this;e.initial={prev:e.getValue("nav_icon_prev",t),next:e.getValue("nav_icon_next",t)}},applyChange:function(t){const e=this,o=e.getValue("nav_icon_prev",t),n=e.getValue("nav_icon_next",t);e.hasChanged("prev",o)&&e.live.setIcon("prev",o),e.hasChanged("next",n)&&e.live.setIcon("next",n)}}),e.live.register(new e.Live.Appearance_Icons_Nav)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Icons_Toggle=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_icons_field_group-field")},setup:function(t){const e=this;e.initial={expand:e.getValue("toggle_icon_expand",t),collapse:e.getValue("toggle_icon_collapse",t),dismiss:e.getValue("toggle_icon_dismiss",t)}},applyChange:function(t){const e=this,o=e.getValue("toggle_icon_expand",t),n=e.getValue("toggle_icon_collapse",t),i=e.getValue("toggle_icon_dismiss",t);e.hasChanged("expand",o)&&e.live.setIcon("expand",o),e.hasChanged("collapse",n)&&e.live.setIcon("collapse",n),e.hasChanged("dismiss",i)&&e.live.setIcon("dismiss",i)}}),e.live.register(new e.Live.Appearance_Icons_Toggle)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Announcement_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_announcement_link_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("message_link_text",t),url:e.getValue("message_link_url",t),target:e.getValue("message_link_target",t)}},applyChange:function(t){const e=this,o=e.getValue("message_link_text",t),n=e.getValue("message_link_url",t),i=e.getValue("message_link_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"message_text",show_link:"message_show_link",link_text:"message_link_text",link_url:"message_link_url",link_target:"message_link_target"},t),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_Announcement_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Announcement_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_announcement_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("message_text",t),show_link:e.getValue("message_show_link",t)}},applyChange:function(t){const e=this,o=e.getValue("message_text",t),n=e.getValue("message_show_link",t);let i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"message_text",show_link:"message_show_link",link_text:"message_link_text",link_url:"message_link_url",link_target:"message_link_target"},t),i=!0),e.finalize(i,!1)}}),e.live.register(new e.Live.Content_Announcement_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Cookie_Button=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_button_group-field"),this.positions=["fbr-buttons-left","fbr-buttons-right"]},setup:function(t){const e=this;e.initial={text:e.getValue("cookie_button_text",t),position:e.getValue("cookie_button_position",t),show_decline:e.getValue("cookie_show_decline_button",t)}},applyChange:function(e){const o=this,n=o.getValue("cookie_button_text",e),i=o.getValue("cookie_button_position",e),s=o.getValue("cookie_show_decline_button",e);let r=!1;if(o.hasChanged("text",n)&&(o.live.bar.item.$el.find(".fbr-button:first").text(n),r=!0),o.hasChanged("position",i)&&(o.live.setItemClass(i,o.positions),r=!0),o.hasChanged("show_decline",s)){let e=o.live.bar.item.$el.find(".fbr-button-secondary:first");if("yes"===s){const n={text:o.getValue("cookie_decline_button_text"),href:o.getValue("cookie_decline_button_url"),target:o.getValue("cookie_decline_button_target")};0===e.length?(e=t("<a/>",{class:"fbr-button fbr-mobile-100 fbr-button-secondary",text:n.text,href:n.href,target:n.target}),o.live.bar.item.$el.find(".fbr-button:first").after(e)):e.text(n.text).attr({href:n.url,target:n.target})}else e.remove();r=!0}o.finalize(r,!1)}}),e.live.register(new e.Live.Content_Cookie_Button)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Cookie_ButtonSecondary=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_decline_button_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("cookie_decline_button_text",t),url:e.getValue("cookie_decline_button_url",t),target:e.getValue("cookie_decline_button_target",t)}},applyChange:function(t){const e=this,o=e.getValue("cookie_decline_button_text",t),n=e.getValue("cookie_decline_button_url",t),i=e.getValue("cookie_decline_button_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button-secondary:first").attr({href:n,target:i}).text(o),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_Cookie_ButtonSecondary)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Cookie_PolicyLink=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_policy_link_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("cookie_policy_link_text",t),url:e.getValue("cookie_policy_link_url",t),target:e.getValue("cookie_policy_link_target",t)}},applyChange:function(t){const e=this,o=e.getValue("cookie_policy_link_text",t),n=e.getValue("cookie_policy_link_url",t),i=e.getValue("cookie_policy_link_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"cookie_notice",show_link:"cookie_show_policy_link",link_text:"cookie_policy_link_text",link_url:"cookie_policy_link_url",link_target:"cookie_policy_link_target"},t),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_Cookie_PolicyLink)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Cookie_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("cookie_notice",t),show_link:e.getValue("cookie_show_policy_link",t)}},applyChange:function(t){const e=this,o=e.getValue("cookie_notice",t),n=e.getValue("cookie_show_policy_link",t);let i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"cookie_notice",show_link:"cookie_show_policy_link",link_text:"cookie_policy_link_text",link_url:"cookie_policy_link_url",link_target:"cookie_policy_link_target"},t),i=!0),e.finalize(i,!1)}}),e.live.register(new e.Live.Content_Cookie_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Countdown_Button=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_button_field_group-field",null,e.Item.Countdown),this.positions=["fbr-button-before-message","fbr-button-after-message"]},setup:function(t){const e=this;e.initial={text:e.getValue("countdown_button_text",t),url:e.getValue("countdown_button_url",t),target:e.getValue("countdown_button_target",t),position:e.getValue("countdown_button_position",t)}},applyChange:function(t){const e=this,o=e.getValue("countdown_button_text",t),n=e.getValue("countdown_button_url",t),i=e.getValue("countdown_button_target",t),s=e.getValue("countdown_button_position",t);let r=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button:first").attr({href:n,target:i}).text(o),r=!0),e.hasChanged("position",s)&&(e.live.setItemClass(s,e.positions),r=!0),e.finalize(r,!1)}}),e.live.register(new e.Live.Content_Countdown_Button)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Countdown_Countdown=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_countdown_countdown_field_group-field",null,e.Item.Countdown),t.styles=["fbr-countdown-boxed","fbr-countdown-digital"],t.SECOND_IN_MS=1e3,t.MINUTE_IN_MS=60*t.SECOND_IN_MS,t.HOUR_IN_MS=60*t.MINUTE_IN_MS,t.DAY_IN_MS=24*t.HOUR_IN_MS,t.$fixed=null},setup:function(e){const o=this;o.initial={mode:o.getValue("countdown_countdown_type",e),fixed:o.getTimestamp(e),relative:o.getTime(e),style:o.getValue("countdown_countdown_style",e)},o.$fixed=t("#foobar_notification-settings_countdown_countdown_timestamp-field")},applyChange:function(t){const o=this,n=o.live.bar.item;if(!(n instanceof e.Item.Countdown))return;const i=o.getValue("countdown_countdown_type",t),s=o.getTimestamp(t),r=o.getTime(t),a=o.getValue("countdown_countdown_style",t);let l=!1;if("timestamp"===i&&(o.hasChanged("mode",i)||o.hasChanged("fixed",s))){let t=s<Date.now();t||(n.target=s,n.isRunning||n.start(),l=!0),o.$fixed.toggleClass("foofields-error",t)}"time"===i&&(o.hasChanged("mode",i)||o.hasChanged("relative",r))&&(n.target=Date.now()+r,n.isRunning||n.start(),l=!0),o.hasChanged("style",a)&&(o.live.setItemClass(a,o.styles),l=!0),o.finalize(l,!1)},getTimestamp:function(t){const e=this,o=e.getValue("foobar_notification-settings[countdown_countdown_timestamp][date]",t),n=e.getValue("foobar_notification-settings[countdown_countdown_timestamp][hours]",t),i=e.getValue("foobar_notification-settings[countdown_countdown_timestamp][minutes]",t),s=new Date(o);return s.setHours(n,i),s.getTime()},getTime:function(t){const e=this,o=e.getValue("foobar_notification-settings[countdown_countdown_time][days]",t),n=e.getValue("foobar_notification-settings[countdown_countdown_time][hours]",t),i=e.getValue("foobar_notification-settings[countdown_countdown_time][minutes]",t),s=e.getValue("foobar_notification-settings[countdown_countdown_time][seconds]",t);return o*e.DAY_IN_MS+n*e.HOUR_IN_MS+i*e.MINUTE_IN_MS+s*e.SECOND_IN_MS}}),e.live.register(new e.Live.Content_Countdown_Countdown)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Countdown_ExpiredMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_expired_field_group-field"),this.target=null},setup:function(t){const o=this;o.initial={text:o.getValue("countdown_expired_text",t),duration:o.getValue("countdown_expired_duration",t)},o.target=o.live.bar.getByType(e.Item.CountdownExpired),o.target instanceof e.Item.CountdownExpired&&(o.target.opt.timeoutAction="resetTimeout"),o.live.on("tab-changed",function(t,e){"foobar_notification-settings_content_countdown_expired-content"===e&&o.showTarget()})},targetItem:function(){return this.target},applyChange:function(t){const e=this,o=e.getValue("countdown_expired_text",t),n=e.getValue("countdown_expired_duration",t);let i=!1;if(e.hasChanged("text",o)&&(e.live.setMessage({text:"countdown_expired_text"},t),i=!0),e.hasChanged("duration",n)){let t=parseInt(n);isNaN(t)&&(t=0),t*=1e3,e.live.bar.item.setTimeout(t),i=!0}e.finalize(i,!1)}}),e.live.register(new e.Live.Content_Countdown_ExpiredMessage)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Countdown_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_link_field_group-field",null,e.Item.Countdown)},setup:function(t){const e=this;e.initial={text:e.getValue("countdown_link_text",t),url:e.getValue("countdown_link_url",t),target:e.getValue("countdown_link_target",t)}},applyChange:function(t){const e=this,o=e.getValue("countdown_link_text",t),n=e.getValue("countdown_link_url",t),i=e.getValue("countdown_link_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"countdown_text",show_link:"countdown_show_link",link_text:"countdown_link_text",link_url:"countdown_link_url",link_target:"countdown_link_target"},t),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_Countdown_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Countdown_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_message_field_group-field",null,e.Item.Countdown),this.positions=["fbr-message-before-countdown","fbr-message-after-countdown"]},setup:function(t){const e=this;e.initial={text:e.getValue("countdown_text",t),position:e.getValue("countdown_message_position",t),show_link:e.getValue("countdown_show_link",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content-countdown-content"===o&&e.showTarget()})},applyChange:function(t){const e=this,o=e.getValue("countdown_text",t),n=e.getValue("countdown_message_position",t),i=e.getValue("countdown_show_link",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",i))&&(e.live.setMessage({text:"countdown_text",show_link:"countdown_show_link",link_text:"countdown_link_text",link_url:"countdown_link_url",link_target:"countdown_link_target"},t),s=!0),e.hasChanged("position",n)&&(e.live.setItemClass(n,e.positions),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_Countdown_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_CTA_Button=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_button_group-field"),this.positions=["fbr-buttons-left","fbr-buttons-right"]},setup:function(t){const e=this;e.initial={text:e.getValue("cta_button_text",t),url:e.getValue("cta_button_url",t),target:e.getValue("cta_button_target",t),position:e.getValue("cta_button_position",t)}},applyChange:function(t){const e=this,o=e.getValue("cta_button_text",t),n=e.getValue("cta_button_url",t),i=e.getValue("cta_button_target",t),s=e.getValue("cta_button_position",t);let r=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button:first").attr({href:n,target:i}).text(o),r=!0),e.hasChanged("position",s)&&(e.live.setItemClass(s,e.positions),r=!0),e.finalize(r,!1)}}),e.live.register(new e.Live.Content_CTA_Button)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_CTA_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_link_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("cta_link_text",t),url:e.getValue("cta_link_url",t),target:e.getValue("cta_link_target",t)}},applyChange:function(t){const e=this,o=e.getValue("cta_link_text",t),n=e.getValue("cta_link_url",t),i=e.getValue("cta_link_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"cta_text",show_link:"cta_show_link",link_text:"cta_link_text",link_url:"cta_link_url",link_target:"cta_link_target"},t),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_CTA_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_CTA_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("cta_text",t),show_link:e.getValue("cta_show_link",t)}},applyChange:function(t){const e=this,o=e.getValue("cta_text",t),n=e.getValue("cta_show_link",t);let i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"cta_text",show_link:"cta_show_link",link_text:"cta_link_text",link_url:"cta_link_url",link_target:"cta_link_target"},t),i=!0),e.finalize(i,!1)}}),e.live.register(new e.Live.Content_CTA_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o){t.Live.freeShippingData=function(n){const i={target:50,str_target:"$50.00",current:30,str_current:"$30.00",percent:.6,str_percent:"60%"};return n instanceof t.Bar.FreeShipping&&e.hash(n.opt.data)&&o.extend(i,n.opt.data),i},t.Live.freeShippingFormat=function(e,o){const n=t.Live.freeShippingData(o);return e.replace(/(?<![a-z])\$(target|current|percent)(?![a-z])/g,function(t,e){switch(e){case"target":return n.str_target;case"current":return n.str_current;case"percent":return n.str_percent;default:return t}})}}(FooBar,FooBar.utils.is,FooBar.utils.obj),function(t,e){e.Live.Appearance_Customizer_FreeShipping=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_progress_progress_bar_field_group-field",["has_progress_bar"],e.Item.FreeShippingProgress)},setup:function(t){const e=this;e._super(t,{background:e.getValue("free_shipping_progress_progress_bar_background",t),fill:e.getValue("free_shipping_progress_progress_bar_fill",t),text:e.getValue("free_shipping_progress_progress_bar_text",t),icon:e.getValue("free_shipping_progress_progress_bar_icon",t),border_size:e.getValue("free_shipping_progress_progress_bar_border_size",t),border_radius:e.getValue("free_shipping_progress_progress_bar_border_radius",t)})},applyChange:function(t,e){this._super(t,e),this.finalize(!0,!1)},toCSS:function(t,e,o){const n=this;let i="";return i+="\n#"+t+".fbr-custom-color {",i+="\n\t--foobar-progress-background-color: "+n.getValue("free_shipping_progress_progress_bar_background",e)+";",i+="\n\t--foobar-progress-fill-color: "+n.getValue("free_shipping_progress_progress_bar_fill",e)+";",i+="\n\t--foobar-progress-text-color: "+n.getValue("free_shipping_progress_progress_bar_text",e)+";",i+="\n\t--foobar-progress-icon-color: "+n.getValue("free_shipping_progress_progress_bar_icon",e)+";",i+="\n\t--foobar-progress-border-size: "+n.getValue("free_shipping_progress_progress_bar_border_size",e)+"px;",i+="\n\t--foobar-progress-border-radius: "+n.getValue("free_shipping_progress_progress_bar_border_radius",e)+"px;",i+="\n}",i}}),e.live.register(new e.Live.Appearance_Customizer_FreeShipping)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Appearance_Icons_FreeShipping=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_icons_free_shipping_field_group-field",["has_buttons"],e.Item.FreeShippingQualified)},setup:function(t){const e=this;e.initial={progress:e.getValue("free_shipping_icon_progress",t),cart:e.getValue("free_shipping_icon_cart",t),checkout:e.getValue("free_shipping_icon_checkout",t)}},applyChange:function(t){const e=this,o=e.getValue("free_shipping_icon_progress",t),n=e.getValue("free_shipping_icon_cart",t),i=e.getValue("free_shipping_icon_checkout",t);e.hasChanged("progress",o)&&e.live.setIcon("progress",o),e.hasChanged("cart",n)&&e.live.setIcon("cart",n),e.hasChanged("checkout",i)&&e.live.setIcon("checkout",i)}}),e.live.register(new e.Live.Appearance_Icons_FreeShipping)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_initial_link_field_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("free_shipping_initial_link_text",t),url:e.getValue("free_shipping_initial_link_url",t),target:e.getValue("free_shipping_initial_link_target",t)}},applyChange:function(t){const o=this,n=o.getValue("free_shipping_initial_link_text",t),i=o.getValue("free_shipping_initial_link_url",t),s=o.getValue("free_shipping_initial_link_target",t);let r=!1;(o.hasChanged("text",n)||o.hasChanged("url",i)||o.hasChanged("target",s))&&(o.live.setMessageDirect({text:e.Live.freeShippingFormat(o.getValue("free_shipping_initial_text",t),o.live.bar),show_link:o.getValue("free_shipping_initial_show_link",t),link_text:n,link_url:i,link_target:s},t),r=!0),o.finalize(r,!1)}}),e.live.register(new e.Live.Content_FreeShipping_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_initial_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("free_shipping_initial_text",t),show_link:e.getValue("free_shipping_initial_show_link",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content_free_shipping-content"===o&&e.showTarget()})},applyChange:function(t){const o=this,n=o.getValue("free_shipping_initial_text",t),i=o.getValue("free_shipping_initial_show_link",t);let s=!1;(o.hasChanged("text",n)||o.hasChanged("show_link",i))&&(o.live.setMessageDirect({text:e.Live.freeShippingFormat(n,o.live.bar),show_link:i,link_text:o.live.getValue("free_shipping_initial_link_text",t),link_url:o.live.getValue("free_shipping_initial_link_url",t),link_target:o.live.getValue("free_shipping_initial_link_target",t)},t),s=!0),o.finalize(s,!1)}}),e.live.register(new e.Live.Content_FreeShipping_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_ProgressBar=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_free_shipping_progress_progress_bar_group-field",["has_progress_bar"],e.Item.FreeShippingProgress),t._contentValues=["icon-only","text-only","icon-and-text"],t._contentClasses=t._contentValues.reduce((t,e)=>(t.push("fbr-progress-"+e),t),[]).join(" "),t._sizeValues=["medium","small"],t._sizeClasses=t._sizeValues.reduce((t,e)=>(t.push("fbr-progress-"+e),t),[]).join(" ")},setup:function(t){const e=this;e.initial={content:e.getValue("free_shipping_progress_progress_bar_content",t),size:e.getValue("free_shipping_progress_progress_bar_size",t)}},applyChange:function(t){const o=this,n=o.getValue("free_shipping_progress_progress_bar_content",t),i=o.getValue("free_shipping_progress_progress_bar_size",t);let s=!1;o.hasChanged("content",n)&&o.live.bar.item instanceof e.Item.FreeShippingProgress&&(o.live.bar.item.$progress.removeClass(o._contentClasses),o._contentValues.includes(n)&&o.live.bar.item.$progress.addClass("fbr-progress-"+n),s=!0),o.hasChanged("size",i)&&o.live.bar.item instanceof e.Item.FreeShippingProgress&&(o.live.bar.item.$progress.removeClass(o._sizeClasses),o._sizeValues.includes(i)&&o.live.bar.item.$progress.addClass("fbr-progress-"+i),s=!0),o.finalize(s,!1)}}),e.live.register(new e.Live.Content_FreeShipping_ProgressBar)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_ProgressMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_progress_group-field",["has_progress_bar"],e.Item.FreeShippingProgress)},setup:function(t){const e=this;e.initial={text:e.getValue("free_shipping_progress_text",t),show_progress_bar:e.getValue("free_shipping_progress_show_progress_bar",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content_free_shipping_progress-content"===o&&e.showTarget()})},applyChange:function(t){const o=this,n=o.getValue("free_shipping_progress_text",t),i=o.getValue("free_shipping_progress_show_progress_bar",t);let s=!1;o.hasChanged("text",n)&&(o.live.setMessageDirect({text:e.Live.freeShippingFormat(n,o.live.bar)},t),s=!0),o.hasChanged("show_progress_bar",i)&&(o.live.toggleItemClass("fbr-hide-progress-bar","no"===i),s=!0),o.finalize(s,!1)}}),e.live.register(new e.Live.Content_FreeShipping_ProgressMessage)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_QualifiedCartButton=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_qualified_cart_button_group-field",["has_buttons"],e.Item.FreeShippingQualified)},setup:function(t){const e=this;e.initial={show_button:e.getValue("free_shipping_qualified_show_cart_button",t),icon:e.getValue("free_shipping_icon_cart",t),show_icon:e.getValue("free_shipping_qualified_cart_button_show_icon",t),text:e.getValue("free_shipping_qualified_cart_button_text",t),href:e.getValue("free_shipping_qualified_cart_button_url",t),target:e.getValue("free_shipping_qualified_cart_button_target",t)}},applyChange:function(t){const e=this,o=e.getValue("free_shipping_qualified_show_cart_button",t),n=e.getValue("free_shipping_qualified_show_checkout_button",t),i={show_button:o,icon:e.getValue("free_shipping_icon_cart",t),show_icon:e.getValue("free_shipping_qualified_cart_button_show_icon",t),text:e.getValue("free_shipping_qualified_cart_button_text",t),href:e.getValue("free_shipping_qualified_cart_button_url",t),target:e.getValue("free_shipping_qualified_cart_button_target",t),mobile:"yes"===o&&"yes"===n?"fbr-mobile-50":"fbr-mobile-100"};let s=!1;(e.hasChanged("show_button",i.show_button)||e.hasChanged("icon",i.icon)||e.hasChanged("show_icon",i.show_icon)||e.hasChanged("text",i.text)||e.hasChanged("href",i.href)||e.hasChanged("target",i.target))&&(e.live.setButton("fbr-button-cart",i,!1),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_FreeShipping_QualifiedCartButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_QualifiedCheckoutButton=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_qualified_checkout_button_group-field",["has_buttons"],e.Item.FreeShippingQualified)},setup:function(t){const e=this;e.initial={show_button:e.getValue("free_shipping_qualified_show_checkout_button",t),icon:e.getValue("free_shipping_icon_checkout",t),show_icon:e.getValue("free_shipping_qualified_checkout_button_show_icon",t),text:e.getValue("free_shipping_qualified_checkout_button_text",t),href:e.getValue("free_shipping_qualified_checkout_button_url",t),target:e.getValue("free_shipping_qualified_checkout_button_target",t)}},applyChange:function(t){const e=this,o=e.getValue("free_shipping_qualified_show_cart_button",t),n=e.getValue("free_shipping_qualified_show_checkout_button",t),i={show_button:n,icon:e.getValue("free_shipping_icon_checkout",t),show_icon:e.getValue("free_shipping_qualified_checkout_button_show_icon",t),text:e.getValue("free_shipping_qualified_checkout_button_text",t),href:e.getValue("free_shipping_qualified_checkout_button_url",t),target:e.getValue("free_shipping_qualified_checkout_button_target",t),mobile:"yes"===o&&"yes"===n?"fbr-mobile-50":"fbr-mobile-100"};let s=!1;(e.hasChanged("show_button",i.show_button)||e.hasChanged("icon",i.icon)||e.hasChanged("show_icon",i.show_icon)||e.hasChanged("text",i.text)||e.hasChanged("href",i.href)||e.hasChanged("target",i.target))&&(e.live.setButton("fbr-button-checkout",i,"yes"===o),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_FreeShipping_QualifiedCheckoutButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_FreeShipping_QualifiedMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_free_shipping_qualified_group-field",["has_buttons"],e.Item.FreeShippingQualified)},setup:function(t){const e=this;e.initial={text:e.getValue("free_shipping_qualified_text",t),show_cart_button:e.getValue("free_shipping_qualified_show_cart_button",t),show_checkout_button:e.getValue("free_shipping_qualified_show_checkout_button",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content_free_shipping_qualified-content"===o&&e.showTarget()})},applyChange:function(t){const o=this,n=o.getValue("free_shipping_qualified_text",t),i=o.getValue("free_shipping_qualified_show_cart_button",t),s=o.getValue("free_shipping_qualified_show_checkout_button",t);let r=!1;if(o.hasChanged("text",n)&&(o.live.setMessageDirect({text:e.Live.freeShippingFormat(n,o.live.bar)},t),r=!0),o.hasChanged("show_cart_button",i)||o.hasChanged("show_checkout_button",s)){const e={icon:o.getValue("free_shipping_icon_cart",t),show_icon:o.getValue("free_shipping_qualified_cart_button_show_icon",t),show_button:i,text:o.getValue("free_shipping_qualified_cart_button_text",t),href:o.getValue("free_shipping_qualified_cart_button_url",t),target:o.getValue("free_shipping_qualified_cart_button_target",t),mobile:"yes"===i&&"yes"===s?"fbr-mobile-50":"fbr-mobile-100"};o.live.setButton("fbr-button-cart",e,!1);const n={icon:o.getValue("free_shipping_icon_checkout",t),show_icon:o.getValue("free_shipping_qualified_cart_button_show_icon",t),show_button:s,text:o.getValue("free_shipping_qualified_checkout_button_text",t),href:o.getValue("free_shipping_qualified_checkout_button_url",t),target:o.getValue("free_shipping_qualified_checkout_button_target",t),mobile:"yes"===i&&"yes"===s?"fbr-mobile-50":"fbr-mobile-100"};o.live.setButton("fbr-button-checkout",n,"yes"===i),r=!0}o.finalize(r,!1)}}),e.live.register(new e.Live.Content_FreeShipping_QualifiedMessage)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o,n){e.Live.Content_HTML_Message=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_html_sections-field"),t.targetIndex=0,t._timeoutId=null},setup:function(t){const e=this;e.initial={html_sections:e.getArrayValue("html_sections",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content-html-tab"===o&&e.showTarget()}),e.field.$tbody.on("focusin",function(){const t=document.activeElement.closest("tr"),o=e.field.rows.find(e=>e.$el.get(0)===t);o&&n.number(o?.index)&&(e.targetIndex=o.index,e.showTarget())}),e.field.on("moved",function(t,o,n,i){e.targetIndex=n,e.showTarget()})},targetItem:function(){let t=0;n.number(this.targetIndex)&&(t=this.targetIndex);const o=this.live.bar.getByIndex(t);return o instanceof e.Item?(o.opt.timeoutAction="resetTimeout",o):null},applyChange:function(e){const o=this,i={html_sections:o.getArrayValue("html_sections",e)};o.hasChanged("html_sections",i.html_sections)&&(clearTimeout(o._timeoutId),o._timeoutId=setTimeout(()=>{const e=[];i.html_sections.forEach(o=>{if(n.string(o?.content)){const n=t("<li/>").addClass(["fbr-item","fbr-item-html"]),i=t("<div/>").addClass("fbr-item-inner"),s=t("<div/>").addClass("fbr-html-content");n.append(i.append(s.html(o.content))),e.push(n)}}),o.live.replaceItems(e).then(()=>{o.showTarget()})},300))}}),e.live.register(new e.Live.Content_HTML_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_SignUp_ErrorMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_error_field_group-field",null,e.Item.SignUpError)},setup:function(t){const e=this;e.initial={text:e.getValue("sign_up_error_text",t),button_text:e.getValue("sign_up_error_button_text",t),duration:e.getValue("sign_up_error_duration",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content_sign_up_error-content"===o&&e.showTarget()})},targetItem:function(){const t=this.live.bar.getByType(e.Item.SignUpError);return t instanceof e.Item.SignUpError?(t.opt.timeoutAction="resetTimeout",t):null},applyChange:function(t){const e=this,o=e.getValue("sign_up_error_text",t),n=e.getValue("sign_up_error_button_text",t),i=e.getValue("sign_up_error_duration",t);let s=!1;if(e.hasChanged("text",o)&&(e.live.setMessage({text:"sign_up_error_text"},t),s=!0),e.hasChanged("button_text",n)&&(e.live.bar.item.$el.find(".fbr-button:first").text(n),s=!0),e.hasChanged("duration",i)){let t=parseInt(i);isNaN(t)&&(t=0),t*=1e3,e.live.bar.item.setTimeout(t),s=!0}e.finalize(s,!1)}}),e.live.register(new e.Live.Content_SignUp_ErrorMessage)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_SignUp_Form=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_form_field_group-field")},setup:function(t){const e=this;e.initial={placeholder:e.getValue("sign_up_placeholder",t),button_text:e.getValue("sign_up_button_text",t)}},applyChange:function(t){const e=this,o=e.getValue("sign_up_placeholder",t),n=e.getValue("sign_up_button_text",t);let i=!1;e.hasChanged("placeholder",o)&&(e.live.bar.item.$el.find(".fbr-email").attr("placeholder",o),i=!0),e.hasChanged("button_text",n)&&(e.live.bar.item.$el.find(".fbr-submit").text(n),i=!0),e.finalize(i,!1)}}),e.live.register(new e.Live.Content_SignUp_Form)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_SignUp_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_link_field_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("sign_up_link_text",t),url:e.getValue("sign_up_link_url",t),target:e.getValue("sign_up_link_target",t)}},applyChange:function(t){const e=this,o=e.getValue("sign_up_link_text",t),n=e.getValue("sign_up_link_url",t),i=e.getValue("sign_up_link_target",t);let s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"sign_up_text",show_link:"sign_up_show_link",link_text:"sign_up_link_text",link_url:"sign_up_link_url",link_target:"sign_up_link_target"},t),s=!0),e.finalize(s,!1)}}),e.live.register(new e.Live.Content_SignUp_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_SignUp_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_message_field_group-field",null,e.Item.SignUp)},setup:function(t){const e=this;e.initial={text:e.getValue("sign_up_text",t),show_link:e.getValue("sign_up_show_link",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content-sign-up-content"===o&&e.showTarget()})},applyChange:function(t){const e=this,o=e.getValue("sign_up_text",t),n=e.getValue("sign_up_show_link",t);let i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"sign_up_text",show_link:"sign_up_show_link",link_text:"sign_up_link_text",link_url:"sign_up_link_url",link_target:"sign_up_link_target"},t),i=!0),e.finalize(i,!1)}}),e.live.register(new e.Live.Content_SignUp_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_SignUp_SuccessMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_success_field_group-field",null,e.Item.SignUpSuccess)},setup:function(t){const e=this;e.initial={text:e.getValue("sign_up_success_text",t),duration:e.getValue("sign_up_success_duration",t)},e.live.on("tab-changed",function(t,o){"foobar_notification-settings_content_sign_up_success-content"===o&&e.showTarget()})},targetItem:function(){const t=this.live.bar.getByType(e.Item.SignUpSuccess);return t instanceof e.Item.SignUpSuccess?(t.opt.timeoutAction="resetTimeout",t):null},applyChange:function(t){const e=this,o=e.getValue("sign_up_success_text",t),n=e.getValue("sign_up_success_duration",t);let i=!1;if(e.hasChanged("text",o)||e.hasChanged("duration",n)){e.live.setMessage({text:"sign_up_success_text"},t);let o=parseInt(n);isNaN(o)&&(o=0),o*=1e3,e.live.bar.item.setTimeout(o),i=!0}e.finalize(i,!1)}}),e.live.register(new e.Live.Content_SignUp_SuccessMessage)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t){t.Live.tweetFormat=function(t){return t.replace(/\B(!?)(@)(\w+)/i,function(t,e,o,n){const i=o+n;return"!"===e?i:'<a href="https://twitter.com/'+n+'" target="_blank" class="fbr-inline-link">'+i+"</a>"})}}(FooBar,FooBar.utils.is,FooBar.utils.obj),function(t,e){e.Live.Content_Tweet_Button=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_tweet_button_group-field"),this.positions=["fbr-buttons-left","fbr-buttons-right"]},setup:function(t){const e=this;e.initial={text:e.getValue("tweet_button_text",t),icon:e.getValue("tweet_button_icon",t),colors:e.getValue("tweet_button_color",t),target:e.getValue("tweet_button_target",t),position:e.getValue("tweet_button_position",t)}},applyChange:function(t){const o=this,n=o.getValue("tweet_button_text",t),i=o.getValue("tweet_button_icon",t),s=o.getValue("tweet_button_color",t),r=o.getValue("tweet_button_target",t),a=o.getValue("tweet_button_position",t);let l=!1;if(o.hasChanged("text",n)||o.hasChanged("icon",i)||o.hasChanged("colors",s)||o.hasChanged("target",r)){const t=o.live.bar,a=t.item.$el.find(".fbr-button:first").toggleClass("fbr-no-icon","no"===i).toggleClass("fbr-twitter-colors","yes"===s).attr({href:"#foobar_placehholder",target:r}).text(n);if("yes"===i){const o=e.icons.get("twitter",t.opt.svg,[t.item.cls.buttonIcon]);a.prepend(o)}l=!0}o.hasChanged("position",a)&&(o.live.setItemClass(a,o.positions),l=!0),o.finalize(l,!1)}}),e.live.register(new e.Live.Content_Tweet_Button)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Tweet_Link=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_tweet_link_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("tweet_link_text",t),url:e.getValue("tweet_link_url",t),target:e.getValue("tweet_link_target",t)}},applyChange:function(t){const o=this,n=o.getValue("tweet_link_text",t),i=o.getValue("tweet_link_url",t),s=o.getValue("tweet_link_target",t);let r=!1;(o.hasChanged("text",n)||o.hasChanged("url",i)||o.hasChanged("target",s))&&(o.live.setMessageDirect({text:e.Live.tweetFormat(o.getValue("tweet_text",t)),show_link:o.getValue("tweet_show_link",t),link_text:n,link_url:i,link_target:s},t),r=!0),o.finalize(r,!1)}}),e.live.register(new e.Live.Content_Tweet_Link)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.Content_Tweet_Message=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_tweet_group-field")},setup:function(t){const e=this;e.initial={text:e.getValue("tweet_text",t),drop_cap:e.getValue("tweet_drop_cap",t),side_border:e.getValue("tweet_side_border",t),show_link:e.getValue("tweet_show_link",t)}},applyChange:function(t){const o=this,n=o.getValue("tweet_text",t),i=o.getValue("tweet_drop_cap",t),s=o.getValue("tweet_side_border",t),r=o.getValue("tweet_show_link",t);let a=!1;(o.hasChanged("text",n)||o.hasChanged("show_link",r))&&(o.live.setMessageDirect({text:e.Live.tweetFormat(n),show_link:r,link_text:o.live.getValue("tweet_link_text",t),link_url:o.live.getValue("tweet_link_url",t),link_target:o.live.getValue("tweet_link_target",t)},t),a=!0),o.hasChanged("drop_cap",i)&&(o.live.setItemClass("yes"===i?"fbr-drop-cap":"","fbr-drop-cap"),a=!0),o.hasChanged("side_border",s)&&(o.live.setItemClass("yes"===s?"fbr-side-border":"","fbr-side-border"),a=!0),o.finalize(a,!1)}}),e.live.register(new e.Live.Content_Tweet_Message)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e,o,n){e.Live.General_Layout=e.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_layout_group-field"),this.layouts=["fbr-layout-inline","fbr-layout-top-inline","fbr-layout-top","fbr-layout-bottom","fbr-layout-left","fbr-layout-left-top","fbr-layout-left-center","fbr-layout-left-bottom","fbr-layout-right","fbr-layout-right-top","fbr-layout-right-center","fbr-layout-right-bottom"]},setup:function(e){const o=this;o.$inlineMetabox=t("#foobar_notification-inline_preview"),o.$inlineContainer=t(".foobar_metabox_inline_preview_container"),o.$inlineContainer.find(".foobar_metabox_inline_preview_content").hide(),o.$body=t("body"),o._super(e,{layout:o.getLayout(e),layout_push:o.getValue("layout_push",e),open:o.getValue("open",e),max_content_width:o.getMaxContentWidth(e)})},applyChange:function(t,e){const o=this,n=o.getLayout(t),i=o.getValue("layout_push",t),s=o.getValue("open",t),r=o.getMaxContentWidth(t);o._super(t,e);let a=!1,l=!1;if(o.hasChanged("layout",n)&&(o.live.setClass(n,o.layouts),a=!0,"fbr-layout-inline"===n?(o.$inlineContainer.append(o.live.bar.$el),o.$inlineMetabox.show()):(o.$body.append(o.live.bar.$el),o.$inlineMetabox.hide())),o.hasChanged("layout_push",i)&&(o.live.setOption("push","yes"===i),a=!0),o.hasChanged("open",s)){const e={};if("open"===s){const n=o.getValue("transition",t);e.name=""!==n?"transition":"immediate"}o.live.setOption("open",e),l=!0}o.hasChanged("max_content_width",r)&&(a=!0),o.finalize(a,l)},toCSS:function(t,e,o){const n=this.getMaxContentWidth(e);let i="";return""!==n&&(i+="\n#"+t+" {",i+="\n\t--foobar-items-max-width: "+n+";",i+="\n}"),i},getLayout:function(t){const e=this,o=e.getValue("layout",t),n=e.getValue("layout_left",t),i=e.getValue("layout_right",t);return null!==n?n:null!==i?i:o},getMaxContentWidth:function(t){const e=this.getValue("foobar_notification-settings[max_content_width][value]",t),o=this.getValue("foobar_notification-settings[max_content_width][unit]",t);if(!n.string(e)||!n.string(o)||0===o.length)return"";const i=e.trim();if(""===i)return"";const s=Number(i);return Number.isFinite(s)?`${i}${o}`:""}}),e.live.register(new e.Live.General_Layout)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.General_NavButtons=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_nav_group-field"),t.navs=["fbr-nav-default","fbr-nav-circle","fbr-nav-none"],t.nav_full_height="fbr-nav-static",t.nav_size=["fbr-nav-size-sm","fbr-nav-size-md","fbr-nav-size-lg"]},setup:function(t){const e=this;e.initial={nav:e.getValue("nav",t),nav_full_height:e.getValue("nav_full_height",t),nav_size:e.getValue("nav_size",t)}},applyChange:function(t){const e=this,o=e.getValue("nav",t),n=e.getValue("nav_full_height",t),i=e.getValue("nav_size",t);let s=!1;e.hasChanged("nav",o)&&(e.live.setClass(o,e.navs),s=!0),e.hasChanged("nav_full_height",n)&&(e.live.setClass(n,e.nav_full_height),s=!0),e.hasChanged("nav_size",i)&&(e.live.setClass(i,e.nav_size),s=!0),e.finalize(s)}}),e.live.register(new e.Live.General_NavButtons)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){e.Live.General_ToggleButton=e.Live.Field.extend({construct:function(){const t=this;t._super("foobar_notification-settings_toggle_group-field"),t.toggles=["fbr-toggle-default","fbr-toggle-circle","fbr-toggle-overlap","fbr-toggle-none"],t.toggle_full_height="fbr-toggle-static",t.toggle_positions=["fbr-toggle-left","fbr-toggle-right"],t.toggle_balance="fbr-toggle-balance",t.toggle_size=["fbr-toggle-size-sm","fbr-toggle-size-md","fbr-toggle-size-lg"]},setup:function(t){const e=this;e.initial={toggle:e.getValue("toggle",t),toggle_full_height:e.getValue("toggle_full_height",t),toggle_position:e.getValue("toggle_position",t),toggle_action:e.getValue("toggle_action",t),toggle_balance:e.getValue("toggle_balance",t),toggle_size:e.getValue("toggle_size",t)}},applyChange:function(t){const e=this,o=e.getValue("toggle",t),n=e.getValue("toggle_full_height",t),i=e.getValue("toggle_position",t),s=e.getValue("toggle_action",t),r=e.getValue("toggle_balance",t),a=e.getValue("toggle_size",t);let l=!1;e.hasChanged("toggle",o)&&(e.live.setClass(o,e.toggles),l=!0),e.hasChanged("toggle_full_height",n)&&(e.live.setClass(n,e.toggle_full_height),l=!0),e.hasChanged("toggle_position",i)&&(e.live.setClass(i,e.toggle_positions),l=!0),e.hasChanged("toggle_balance",r)&&(e.live.setClass(r,e.toggle_balance),l=!0),e.hasChanged("toggle_action",s)&&e.live.setToggleAction(s),e.hasChanged("toggle_size",a)&&(e.live.setClass(a,e.toggle_size),l=!0),e.finalize(l,!1)}}),e.live.register(new e.Live.General_ToggleButton)}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(t,e){let o=!1;function n(){o||e.live.init(),o=!0}let i=!1,s=!1;e.on("ready",function(){i=!0,!0===s&&n()}),t.on("ready",function(){s=!0,!0===i&&n()})}(FooFields,FooBar);